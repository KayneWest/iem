# The only mapfile!
NAME base4326
STATUS ON
SIZE 640 480
FONTSET "../fonts/fonts.list"
EXTENT -104 37 -87 49
UNITS DD
SHAPEPATH "./"
SYMBOLSET "base.sym"
IMAGETYPE PNG
IMAGECOLOR 0 0 255
#TRANSPARENT ON
#INTERLACE off

PROJECTION
  "init=epsg:4326"
END

WEB
  IMAGEPATH "/var/www/htdocs/tmp/"
  IMAGEURL "/tmp/"
END

SCALEBAR
  IMAGECOLOR 255 255 255
  LABEL
    COLOR 0 0 0
    SIZE tiny
  END
  STYLE 1
  SIZE 50 10
  COLOR 0 0 0
  UNITS MILES
  INTERVALS 2
  TRANSPARENT TRUE
  STATUS TRUE
END

LEGEND
  STATUS EMBED
  OUTLINECOLOR 0 0 0
  IMAGECOLOR 0 0 0
  LABEL
    COLOR 255 255 255
  END
  POSITION LR
END

LAYER
  NAME goes_east1V
  STATUS OFF
  TYPE RASTER
  DATA /home/ldm/data/gis/images/4326/goes/east1V_0.tif
  PROJECTION
    "init=epsg:4326"
  END
END

LAYER
  NAME goes_east04I4
  STATUS OFF
  TYPE RASTER
  DATA /home/ldm/data/gis/images/4326/goes/east04I4_0.tif
  PROJECTION
    "init=epsg:4326"
  END
END

LAYER
  NAME goes_west04I4
  STATUS OFF
  TYPE RASTER
  DATA /home/ldm/data/gis/images/4326/goes/west04I4_0.tif
  PROJECTION
    "init=epsg:4326"
  END
END



LAYER
  NAME goes_west1V
  STATUS OFF
  TYPE RASTER
  DATA /home/ldm/data/gis/images/4326/goes/west1V_0.tif
  PROJECTION
    "init=epsg:4326"
  END
END

# North America!!!
LAYER
  NAME namerica
  STATUS OFF
  TYPE POLYGON
  DATA shape/4326/world/world_borders.shp
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "FIPS_CNTRY"
  CLASS
    EXPRESSION /US/
    COLOR  105 105 105
  END
  CLASS
    COLOR 191 191 191
  END
END

# United States
LAYER
  NAME states
  STATUS OFF
  TYPE LINE
  DATA shape/4326/us/states.shp
  METADATA
    "wms_title" "US States"
     "wms_srs" "EPSG:4326"  # Specify as Latlong?
  END
  PROJECTION
    "init=epsg:4326"
  END
  CLASS
    STYLE
      SYMBOL 'circle'
      COLOR 0 0 0
      SIZE 2
    END
  END
END

# Lakes
LAYER
  NAME lakes
  STATUS OFF
  TYPE POLYGON
  DATA shape/4326/us/major_lakes.shp
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    COLOR 0 0 250
  END
END

# Counites
LAYER
  NAME uscounties
  STATUS OFF
  TYPE LINE
  DATA shape/4326/us/uscounties.shp
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    SYMBOL "circle"
    COLOR 141 141 141
    SIZE 1
  END
END

# Counites
LAYER
  NAME iacounties
  STATUS OFF
  TYPE LINE
  DATA shape/4326/iowa/iacounties.shp
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    SYMBOL "circle"
    COLOR 141 141 141
    SIZE 1
  END
END


LAYER
  NAME cwas
  STATUS OFF
  TYPE POLYGON
  DATA shape/4326/nws/cwas.shp
  PROJECTION
   "init=epsg:4326"
  END
  LABELITEM "WFO"
  CLASS
    OUTLINECOLOR 255 165 0
    LABEL
      MINFEATURESIZE 50
      OUTLINECOLOR 0 0 0
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION CC
      PARTIALS FALSE
    END
  END
END

# USDM!
LAYER
  NAME usdm
  STATUS OFF
  TYPE LINE
  DATA /home/ldm/data/gis/shape/4326/us/dm_current.shp
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "DCAT"
  CLASS
    EXPRESSION /0/
    COLOR 100 0 0
    SIZE 4
    TEXT "D0"
    SYMBOL 'circle'
    LABEL
      COLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION /1/
    COLOR 120 0 0
    TEXT "D1"
    SIZE 4
    SYMBOL 'circle'
    LABEL
      COLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION /2/
    COLOR 160 0 0
    TEXT "D2"
    SIZE 4
    SYMBOL 'circle'
    LABEL
      COLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION /3/
    COLOR 200 0 0
    TEXT "D3"
    SYMBOL 'circle'
    SIZE 4
    LABEL
      COLOR 255 255 255
    END
  END
  CLASS
    EXPRESSION /4/
    COLOR 255 0 0
    SIZE 4
    SYMBOL 'circle'
    TEXT "D4"
    LABEL
      COLOR 255 255 255
    END
  END
END


# watches
LAYER
 CONNECTIONTYPE postgis
 NAME watches
 CONNECTION "dbname=postgis host=db1.mesonet.agron.iastate.edu"
 DATA "geom from watches"
 PROJECTION
  "init=epsg:4326"
 END
 TYPE LINE
 #FILTER "expired > CURRENT_TIMESTAMP"
 CLASSITEM 'wtype'
  CLASS
    EXPRESSION /SVR/
    STYLE
      COLOR 0 0 0
      SIZE 4
      SYMBOL 1
    END
    STYLE
      COLOR 255 255 0
      SIZE 2
       SYMBOL 1
    END
  END
  CLASS
    EXPRESSION /TOR/
    STYLE
      COLOR 0 0 0
      SIZE 4
      SYMBOL 1
    END
    STYLE
      COLOR 255 0 0
      SIZE 2
      SYMBOL 1
    END
  END
END

LAYER
  CONNECTIONTYPE postgis
  NAME warnings_summary
  CONNECTION "user=nobody dbname=postgis host=db1.mesonet.agron.iastate.edu"
  DATA "geom from (select expire, phenomena, significance, geom, oid from warnings_summary) as foo using unique oid using SRID=4326"
  STATUS OFF
  TYPE POLYGON
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    NAME "Flash Flood Warn"
    EXPRESSION (('[phenomena]' = 'FF' or '[phenomena]' = 'MA') and '[significance]' = 'W')
    STYLE
      COLOR 0 255 0
      #SIZE 2
      #SYMBOL 1
    END
  END
  CLASS
    NAME "Svr T'storm Warn"
    EXPRESSION ('[phenomena]' = 'SV' and '[significance]' = 'W')
    STYLE
      COLOR 255 255 0
      #SIZE 2
      #SYMBOL 1
    END
  END
  CLASS
    NAME "Tornado Warn"
    EXPRESSION ('[phenomena]' = 'TO' and '[significance]' = 'W')
    STYLE
      COLOR 255 0 0
      #SIZE 2
      #SYMBOL 1
    END
  END

    # Advisories
    CLASS
        NAME "Winter Advisory"
        EXPRESSION (('[phenomena]' = 'WW' or '[phenomena]' = 'BZ'  or '[phenomena]' = 'WS' or '[phenomena]' = 'IP' or '[phenomena]' = 'HP' or '[phenomena]' = 'ZR' or '[phenomena]' = 'IS') and '[significance]' = 'Y')
        STYLE
          COLOR  222 184 135
          #SIZE  3
          #SYMBOL    'circle'
        END
        #STYLE
        #  COLOR 222 184 135
        #  SIZE  1
        #  SYMBOL    'circle'
        #END
    #TEXT ([expire])
    #LABEL
    #  COLOR 255 255 255
    #  SIZE LARGE
    #  TYPE BITMAP
    #END
    END
    # Snow and Blowing snow
    CLASS
        NAME "Sn or Blow Sn Adv"
        EXPRESSION (('[phenomena]' = 'SN' or '[phenomena]' = 'BS' or '[phenomena]' = 'SB') and '[significance]' = 'Y')
        STYLE
          COLOR 176 224 230
          #SIZE  3 
          #SYMBOL    'circle'
        END
    END

    # Heavy Snow
    CLASS
        NAME "Heavy Snow Warn"
        EXPRESSION ('[phenomena]' = 'HS' and '[significance]' = 'W')
        STYLE
          COLOR 138 43 226
        END
    END
    # WW Warning
    CLASS
        NAME "Winter Storm Warn"
        EXPRESSION (('[phenomena]' = 'WS' or '[phenomena]' = 'WW') and '[significance]' = 'W')
        COLOR   255 105 180
    END
    # Sleet Fz
    CLASS
        NAME "Ice/Frz/Sleet Warn"
        EXPRESSION (('[phenomena]' = 'IP' or '[phenomena]' = 'HP' or '[phenomena]' = 'ZR' or '[phenomena]' = 'IS') and '[significance]' = 'W')
        COLOR   255 20 147
    END
    # Blizzard
    CLASS
        NAME "Blizzard Warn"
        EXPRESSION ('[phenomena]' = 'BZ' and '[significance]' = 'W')
        COLOR   255 0 0
    END
    TRANSPARENCY 70
END


LAYER
  CONNECTIONTYPE postgis
  NAME warnings0_c
  CONNECTION "user=nobody dbname=postgis host=db1.mesonet.agron.iastate.edu"
  DATA "geom from (select phenomena, significance, geom, oid from warnings WHERE  expire > CURRENT_TIMESTAMP and gtype = 'C') as foo using unique oid using SRID=4326"
  STATUS OFF
  TYPE LINE
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    NAME "Flash Flood Warn"
    EXPRESSION (('[phenomena]' = 'FF' or '[phenomena]' = 'MA') and '[significance]' = 'W')
    STYLE
      COLOR 0 255 0
      SIZE 2
      SYMBOL 1
    END
  END
  CLASS
    NAME "Svr T'storm Warn"
    EXPRESSION ('[phenomena]' = 'SV' and '[significance]' = 'W')
    STYLE
      COLOR 0 0 0
      SIZE 4
      SYMBOL 1
    END
    STYLE
      COLOR 255 255 0
      SIZE 2
      SYMBOL 1
    END
  END
  CLASS
    NAME "Tornado Warn"
    EXPRESSION ('[phenomena]' = 'TO' and '[significance]' = 'W')
    STYLE
      COLOR 0 0 0
      SIZE 4
      SYMBOL 1
    END
    STYLE
      COLOR 255 0 0
      SIZE 2
      SYMBOL 1
    END
  END

    # Advisories
    CLASS
        NAME "Winter Advisory"
        EXPRESSION (('[phenomena]' = 'WW' or '[phenomena]' = 'BZ'  or '[phenomena]' = 'WS' or '[phenomena]' = 'IP' or '[phenomena]' = 'HP' or '[phenomena]' = 'ZR' or '[phenomena]' = 'IS') and '[significance]' = 'Y')
        STYLE
          COLOR  222 184 135
          SIZE  3
          SYMBOL    'circle'
        END
        #STYLE
        #  COLOR 222 184 135
        #  SIZE  1
        #  SYMBOL    'circle'
        #END
    END
    # Snow and Blowing snow
    CLASS
        NAME "Sn or Blow Sn Adv"
        EXPRESSION (('[phenomena]' = 'SN' or '[phenomena]' = 'BS' or '[phenomena]' = 'SB') and '[significance]' = 'Y')
        STYLE
          COLOR 176 224 230
          SIZE  3 
          SYMBOL    'circle'
        END
        STYLE
          COLOR 255 255 255
          SIZE  1
          SYMBOL    'circle'
        END
    END

    # Heavy Snow
    CLASS
        NAME "Heavy Snow Warn"
        EXPRESSION ('[phenomena]' = 'HS' and '[significance]' = 'W')
        STYLE
          COLOR 138 43 226
          SIZE 3
          SYMBOL 'circle'
        END
        STYLE
          COLOR 255 255 255
          SIZE 1
          SYMBOL 'circle'
        END
    END
    # WW Warning
    CLASS
        NAME "Winter Storm Warn"
        EXPRESSION (('[phenomena]' = 'WS' or '[phenomena]' = 'WW') and '[significance]' = 'W')
        COLOR   255 105 180
        SIZE    3
        SYMBOL  'circle'
    END
    # Sleet Fz
    CLASS
        NAME "Ice/Frz/Sleet Warn"
        EXPRESSION (('[phenomena]' = 'IP' or '[phenomena]' = 'HP' or '[phenomena]' = 'ZR' or '[phenomena]' = 'IS') and '[significance]' = 'W')         COLOR   255 20 147         SIZE    3
        SYMBOL  'circle'
    END
    # Blizzard
    CLASS
        NAME "Blizzard Warn"
        EXPRESSION ('[phenomena]' = 'BZ' and '[significance]' = 'W')
        COLOR   255 0 0
        SIZE    3
        SYMBOL  'circle'
    END
END

LAYER
  CONNECTIONTYPE postgis
  NAME warnings0_p
  CONNECTION "dbname=postgis host=db1.mesonet.agron.iastate.edu"
  #DATA "geom from warnings"
  DATA "geom from (select phenomena, geom, oid from warnings WHERE significance != 'A' and expire > CURRENT_TIMESTAMP and gtype = 'P') as foo using unique oid using SRID=4326"
  STATUS OFF
  TYPE POLYGON
  METADATA
    "wms_title" "Current Polygon Warnings"
     "wms_srs" "EPSG:4269"  # Specify as Latlong?
  END
  TEMPLATE q_template.html
  #FILTER "significance != 'A' and expire > CURRENT_TIMESTAMP and gtype = 'P'"
  PROJECTION
   "proj=latlong"
  END
  CLASSITEM 'phenomena'
  CLASS
    EXPRESSION /TO|SV/
    COLOR -1 -1 -1
    OUTLINECOLOR 255 255 255
#    SYMBOL 1
#    SIZE 10
  END
END


LAYER
  CONNECTIONTYPE postgis
  NAME lsrs
  CONNECTION "dbname=postgis host=db1.mesonet.agron.iastate.edu"
  DATA "geom from (select distinct city, magnitude, valid, geom, type as ltype, city || magnitude || x(geom) || y(geom) as k from lsrs WHERE valid > 'YESTERDAY'::timestamp) as foo USING unique k USING SRID=4326 "
  STATUS OFF
  TYPE POINT
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "ltype"
  CLASS
    EXPRESSION /G/
    TEXT (G[magnitude] MPH)
    LABEL
      OUTLINECOLOR 0 0 0
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION AUTO
      PARTIALS FALSE
    END
    COLOR 255 255 255
    SYMBOL 'circle'
    SIZE 10
  END
  CLASS
    EXPRESSION /T/
    TEXT (TORNADO [magnitude])
    LABEL
      OUTLINECOLOR 0 0 0
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION AUTO
      PARTIALS FALSE
    END
    COLOR 255 255 255
    SYMBOL 'tornado'
    SIZE 10
  END
  CLASS
    EXPRESSION /H/
    TEXT (HAIL [magnitude])
    LABEL
      OUTLINECOLOR 0 0 0
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION AUTO
      PARTIALS FALSE
    END
    COLOR 255 255 255
    SYMBOL 'triangle'
    SIZE 10
  END
  CLASS
    EXPRESSION /D/
    TEXT (WND DMG [city])
    LABEL
      OUTLINECOLOR 0 0 0
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION AUTO
      PARTIALS FALSE
    END
    COLOR 255 255 255
    SYMBOL 'triangle'
    SIZE 10
  END
END

LAYER
  NAME nexrad_n0r
  DATA /home/ldm/data/gis/images/4326/USCOMP/n0r_0.tif
  TYPE RASTER
  STATUS OFF
  METADATA
    "wms_title" "Composite NEXRAD"
  END
  PROJECTION
    "init=epsg:4326"
  END
  OFFSITE 0 0 0
  TRANSPARENCY 70
END

#
LAYER
  TYPE POLYGON
  NAME rect
  STATUS OFF
  METADATA
    "wms_title"  "Rect Layer"
     "wms_srs"   "EPSG:26915"
  END
  PROJECTION
    "proj=latlong"
  END
  CLASS
    OUTLINECOLOR 250 250 250
  END
END

# IEM Logo
LAYER
  NAME logo
  TYPE POINT
  STATUS default
  TRANSFORM FALSE
#  TRANSPARENCY 10
  CLASS
    SYMBOL 'iem_logo'
    COLOR 0 0 0
  END
END


# Credits
LAYER
  NAME credits
  TYPE ANNOTATION
  STATUS OFF
  TRANSFORM FALSE
  CLASS
    NAME 'credits'
    LABEL
      COLOR 0 0 0
      BACKGROUNDCOLOR 250 250 250
#      SHADOWSIZE 1 1
#      SHADOWCOLOR 0 0 0
#      BACKGROUNDSHADOWCOLOR 0 0 0
#      BACKGROUNDSHADOWSIZE 1 1
      TYPE TRUETYPE
      SIZE 16
      FONT 'altgot2n'
      POSITION CR
      FORCE TRUE
      PARTIALS TRUE
      BUFFER 2
    END
  END
END

# Used in php plotter
LAYER
  NAME currents
  STATUS ON
  TYPE POINT
  LABELCACHE ON
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    COLOR -1 -1 -1
    LABEL
      COLOR  255 255 0
      OUTLINECOLOR  0 0 0
      SHADOWCOLOR 0 0 0
      SHADOWSIZE 1 1
      SIZE 12
      MINSIZE 4
      MAXSIZE 18
      TYPE TRUETYPE
      FONT arial
      ANTIALIAS false
      BUFFER 0
      FORCE true
      POSITION UC
    END
  END
END

LAYER
  NAME sname
  STATUS ON
  TYPE POINT
  LABELCACHE ON
  PROJECTION
   "proj=latlong"
  END
  CLASS
    COLOR -1 -1 -1
    LABEL
      COLOR  255 255 255
      OUTLINECOLOR 0 0 0 
      SHADOWCOLOR 0 0 0
      SHADOWSIZE 1 2
      SIZE 10
      MINSIZE 4
      MAXSIZE 18
      TYPE TRUETYPE
      FONT arial
      ANTIALIAS true
      BUFFER 0
      FORCE true
      POSITION LC
    END
  END
END

LAYER
  TYPE POINT
  NAME pointonly
  STATUS OFF
  CLASS 
   SYMBOL 1
   COLOR 255 0 0
   SIZE 15
   LABEL
    COLOR -1 -1 -1
   END
  END
END

LAYER
  NAME barbs
  TYPE POINT
#  DATA datasets/snet_current
  STATUS DEFAULT
  METADATA
   LYRNAME "Winds"
  END
#  LABELITEM "WIND_CHR"
#  LABELANGLEITEM "WIND_ROTAT"
  LABELCACHE ON
  PROJECTION
   "proj=latlong"
  END
  CLASS
    COLOR 255 0 0
    LABEL
        COLOR 250 0 0
        SHADOWCOLOR 0 0 0
        SHADOWSIZE 1 1
        TYPE truetype
        FONT weather
        ANTIALIAS TRUE
        SIZE 48
        POSITION UR
        OFFSET -1 -1 # for size 30 UR
        BUFFER 0
        PARTIALS TRUE
        FORCE TRUE
    END
  END
END

LAYER
  CONNECTIONTYPE postgis
  NAME surface
  # Connect to a remote spatial database
  CONNECTION "user=nobody dbname=iem host=10.10.10.20"
  # Get the lines from the 'geom' column of the 'roads' table
  DATA "geom from (select geom, round(tsf0::numeric,0) as tsf0,
    oid from current WHERE (valid > CURRENT_TIMESTAMP - '2 hours'::interval)
    and tsf0 > -30) as foo using unique oid using srid=4326"
  STATUS DEFAULT
  TYPE POINT
  LABELCACHE OFF
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "tsf0"
  CLASS
    NAME ">=35"
    EXPRESSION ([tsf0] >= 35)
    COLOR 30 190 20
    SYMBOL 'circle'
    SIZE 8
  END
  CLASS
    NAME "34-35"
    EXPRESSION ([tsf0] >= 34)
    COLOR 215 255 0
    SYMBOL 'circle'
    SIZE 8
  END
  CLASS
    NAME "33-34"
    EXPRESSION ([tsf0] >= 33)
    COLOR 255 164 0
    SYMBOL 'circle'
    SIZE 8
  END
  CLASS
    NAME "32-33"
    EXPRESSION ([tsf0] >= 32)
    COLOR 255 50 0
    SYMBOL 'circle'
    SIZE 10
  END
  CLASS
    NAME "31-32"
    EXPRESSION ([tsf0] >= 31)
    COLOR 255 0 144
    SYMBOL 'circle'
    SIZE 8
  END
  CLASS
    NAME "30-31"
    EXPRESSION ([tsf0] >= 30)
    COLOR 255 0 255
    SYMBOL 'circle'
    SIZE 8
  END
  CLASS
    NAME "< 30"
    EXPRESSION ([tsf0] < 30)
    COLOR 255 255 255
    SYMBOL 'circle'
    SIZE 8
  END
END

LAYER
  CONNECTIONTYPE postgis
  NAME airtemps
  # Connect to a remote spatial database
  CONNECTION "user=nobody dbname=iem host=10.10.10.20"
  # Get the lines from the 'geom' column of the 'roads' table
  DATA "geom from (select geom, round(tmpf::numeric,0) as tmpf, 
    oid from current WHERE (valid > CURRENT_TIMESTAMP - '2 hours'::interval)
    ) as foo using unique oid using srid=4326"
  STATUS DEFAULT
  TYPE POINT
  LABELCACHE ON
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "tmpf"
  CLASS
    EXPRESSION ([tmpf] >= 35 && [tmpf] < 120)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      COLOR 30 190 20
      #OUTLINECOLOR 250 250 250
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] >= 34)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      COLOR 215 255 0
      #OUTLINECOLOR 250 250 250
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] >= 33)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      COLOR 255 164 0
      #OUTLINECOLOR 250 250 250
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] >= 32)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      COLOR 255 50 0
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] >= 31)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      COLOR 255 0 144
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] >= 30)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      #COLOR 232 164 226
      COLOR 255 0 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
  CLASS
    EXPRESSION ([tmpf] > -40)
    TEXT ([ tmpf ])
    COLOR -1 -1 -1
    LABEL
      #COLOR 232 214 226
      COLOR 255 255 255
      TYPE BITMAP
      SIZE MEDIUM
      POSITION UL
      OFFSET 2 2
      BUFFER 1
      PARTIALS TRUE
      FORCE FALSE
    END
  END
END


END
