# select.map

NAME select
STATUS ON
# 4x3
SIZE 480 360
FONTSET "/mesonet/data/gis/fonts/fonts.list"
#EXTENT -2223813 -1746393 2207341 1701506
# 4 x 3  600km 450
EXTENT 175000 4400000 775000 4850000
UNITS METERS
SHAPEPATH "/mesonet/data/gis/"
SYMBOLSET "/mesonet/data/gis/symbols/stations.sym"
IMAGETYPE PNG
#TRANSPARENT off
#INTERLACE off
#IMAGECOLOR 140 144 90
IMAGECOLOR 255 255 255

#
PROJECTION
    "init=epsg:26915"
END

#
WEB
#  HEADER q_header.html
  TEMPLATE select.html
#  FOOTER q_footer.html
  MINSCALE 90000
  MAXSCALE 40000000
  IMAGEPATH "/var/www/htdocs/tmp/"
  IMAGEURL "/tmp/"
  #LOG "/mesonet/www/html/tmp/sw.log"
END

#
LAYER
  NAME counties
  STATUS ON
  TYPE POLYGON
  DATA "shape/26915/mw/mwcounties.shp"
  PROJECTION
    "init=epsg:26915"
  END
  LABELCACHE ON
  LABELITEM 'CO_NAME'
  LABELMAXSCALE 400000
  CLASS
    OUTLINECOLOR 210 210 210
#    COLOR 140 144 90
    LABEL 
      SIZE TINY
      TYPE BITMAP
      POSITION LC
#      COLOR 90 90 90
      COLOR 0 0 0
      PARTIALS FALSE
      FORCE FALSE
    END
  END
END

LAYER
	NAME states
	STATUS ON
	TYPE LINE
	DATA "shape/26915/usa/states.shp"
	PROJECTION
	  "init=epsg:26915"
	END
	CLASS
		COLOR 0 0 0
		SYMBOL 'circle'
		SIZE 2
	END
END



LAYER
  NAME interstates
  TYPE LINE
  STATUS OFF
  PROJECTION
   "proj=latlong"
  END
  DATA "shape/unproj/iowa/interstates.shp"
  CLASS
    COLOR 255 0 0
    SYMBOL 'circle'
    SIZE 4
    OVERLAYSYMBOL 'circle'
    OVERLAYSIZE 2
    OVERLAYCOLOR 0 0 0
  END
END


LAYER
  NAME interstates_label
  TYPE ANNOTATION
  STATUS OFF
  PROJECTION
   "proj=latlong"
  END
  LABELITEM HWYNAME
  DATA "shape/unproj/iowa/interstates.shp"
  CLASS
#    EXPRESSION ([HWYNAME] < 100)
    COLOR -1 -1 -1
    SYMBOL 'interstate_shield'
    LABEL
      TYPE TRUETYPE
      FONT arialblk
      POSITION CC
      MINDISTANCE 100
      MINFEATURESIZE 10
      SIZE 6
      COLOR 255 255 255
      PARTIALS FALSE
    END
  END
END




LAYER
  NAME sites
  STATUS ON
  TYPE POINT
  CONNECTIONTYPE POSTGIS
  CONNECTION "user=akrherz dbname=mesosite host=10.10.10.40"
  DATA "geom from (select geom, id, plot_name, oid, network, case when is_climate_site THEN 't' ELSE 'f' END as is_climate_site  from stations WHERE online = 't') as foo using unique oid using srid=4326"
  PROJECTION
   "init=epsg:4326"
  END
  TOLERANCE 1000
  TOLERANCEUNITS pixels
  LABELITEM "PLOT_NAME"
  FILTER "network = 'IA_RWIS'"
  LABELCACHE ON
  CLASS
    TEMPLATE "http://kcci.mesonet.agron.iastate.edu/site.phtml?station=[ID]"
    COLOR 0 0 0
    SYMBOL 'circle'
    SIZE 6
    OVERLAYSYMBOL 'circle'
    OVERLAYSIZE 4
    OVERLAYCOLOR 250 0 0
    LABEL
      TYPE BITMAP
#      TYPE TRUETYPE
      SIZE SMALL
#      FONT Verabd
#      ANTIALIAS FALSE
#      SIZE 8
#      OUTLINECOLOR 250 250 250
      COLOR 0 0 255
      POSITION AUTO
      FORCE FALSE
      PARTIALS FALSE
      BUFFER 0
      ANTIALIAS FALSE
    END
  END
END

END
