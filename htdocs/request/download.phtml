<?php 
include("../../config/settings.inc.php");
define("IEM_APPID", 8);
$year = date("Y");
$network = isset($_GET['network']) ? $_GET['network'] : "IA_ASOS";
$station = "";

include("../../include/database.inc.php");
include("../../include/imagemaps.php");
include("../../include/forms.php");
$HEADEXTRA = "<script src='https://maps.googleapis.com/maps/api/js?sensor=false'></script>
<script src='http://openlayers.org/api/2.12/OpenLayers.js'></script>
<script src='/js/olselect.php?network=${network}'></script>";
$TITLE = "IEM | Download Data";
$THISPAGE = "networks-asos";
$BODYEXTRA = "onload=\"init()\"";
include("$rootpath/include/header.php");
?>
<style type="text/css">
        #map {
            width: 450px;
            height: 450px;
            border: 2px solid black;
        }
</style>

<h3>ASOS/AWOS data download</h3>

<p>The IEM maintains an ever growing archive of automated airport weather
observations from around the world!  These observations are typically called 
'ASOS' or sometimes 'AWOS' sensors.  A more generic term may be METAR data, 
which is a term that describes the format the data is transmitted as. If you 
don't get data for a request, please feel free to 
<a href="../info/contacts.php">contact us</a> for help. The IEM also has a one
minute interval dataset for Iowa <a href="asos/1min.phtml">ASOS</a> (2000-) 
and <a href="awos/1min.php">AWOS</a> (1995-2011) sites.  This archive
simply provides the as-is collection of historical observations, very little 
quality control is done.

<div class="warning">Please be patient with this page as it will take a number
of seconds to process your request and provide the result.</div>

<form name="netselect">
<table><tr><th>Select Network</th>
<td><?php echo selectAzosNetwork($network); ?></td>
<td><input type="submit" value="Switch to Network"></td>
</tr></table>
</form>


<TABLE>
<TR>
<TD valign="top">
<h3 class="subtitle">1) Select Station/Network by clicking on location: </h3>

<form method="GET" action="/cgi-bin/request/getData.py" name="olselect">
<div id="map"></div>
<div id="sname">No site selected</div>

<p><strong>Download Variable Description</strong>

<br /><strong>station:</strong> three or four character site identifier
<br /><strong>valid:</strong> timestamp of the observation
<br /><strong>tmpf:</strong> Air Temperature in Fahrenheit, typically @ 2 meters
<br /><strong>dwpf:</strong> Dew Point Temperature in Fahrenheit, typically @ 2 meters
<br /><strong>relh:</strong> Relative Humidity in %
<br /><strong>drct:</strong> Wind Direction in degrees from north
<br /><strong>sknt:</strong> Wind Speed in knots	
<br /><strong>p01i:</strong> One hour precipitation for the period from the observation time
to the time of the previous hourly precipitation reset.  This varies slightly
by site. Values in inches
<br /><strong>alti:</strong> Pressure altimeter in inches
<br /><strong>mslp:</strong> Sea Level Pressure in millibar
<br /><strong>vsby:</strong> Visibility in miles
<br /><strong>gust:</strong> Wind Gust in knots
<br /><strong>skyc1:</strong> Sky Level 1 Coverage
<br /><strong>skyc2:</strong> Sky Level 2 Coverage
<br /><strong>skyc3:</strong> Sky Level 3 Coverage
<br /><strong>skyc4:</strong> Sky Level 4 Coverage
<br /><strong>skyl1:</strong> Sky Level 1 Altitude in feet
<br /><strong>skyl2:</strong> Sky Level 2 Altitude in feet
<br /><strong>skyl3:</strong> Sky Level 3 Altitude in feet
<br /><strong>skyl4:</strong> Sky Level 4 Altitude in feet
<br /><strong>metar:</strong> unprocessed reported observation in METAR format

</td>
<td>
<P>Selected Station: <?php echo networkSelect($network, $station); ?>

<br><br>
<h3 class="subtitle">2) Select From Available Data:</h3>
<SELECT name="data" size="5" MULTIPLE>
	<option value="all" SELECTED>All Available
	<option value="tmpf">Air Temperature [F]
	<option value="tmpc">Air Temperature [C]
	<option value="dwpf">Dew Point [F]
	<option value="dwpc">Dew Point [C]
	<option value="relh">Relative Humidity [%]
	<option value="drct">Wind Direction 
	<option value="sknt">Wind Speed [knots]
	<option value="sped">Wind Speed [mph]</option>
	<option value="alti">Altimeter [inches]
	<option value="mslp">Sea Level Pressure [mb]
	<option value="p01m">1 hour Precipitation [mm]
	<option value="p01i">1 hour Precipitation [inch]
	<option value="vsby">Visibility [miles]
	<option value="gust">Wind Gust [knots]
	<option value="gust_mph">Wind Gust [mph]</option>
	<option value="skyc1">Cloud Coverage Level 1
	<option value="skyc2">Cloud Coverage Level 2
	<option value="skyc3">Cloud Coverage Level 3
	<option value="skyl1">Cloud Height Level 1 [ft]
	<option value="skyl2">Cloud Height Level 2 [ft]
	<option value="skyl3">Cloud Height Level 3 [ft]
	<option value="metar">Raw METAR</option>
</SELECT>
<br />
<strong>Note:</strong> Cloud information and raw METAR data is not available 
for all observations, the IEM continues to backfill this information.


<br><br>
<h3 class="subtitle">3) Specific Date Range (If needed):</h3>
<TABLE>
<TR><TH>Start:</TH><TH>Stop:</TH></TR>

<tr>
 <td><?php echo yearSelect2(1941, date("Y"), "year1"); ?></td>
 <td><?php echo yearSelect2(1941, date("Y"), "year2"); ?></td>
</tr>

<tr>
 <td><?php echo monthSelect2(date("m"), "month1"); ?></td>
 <td><?php echo monthSelect2(date("m"), "month2"); ?></td>
</TR>

<tr>
 <td><?php echo daySelect2(date("d"), "day1"); ?></td>
 <td><?php echo daySelect2(date("d"), "day2"); ?></td>
</tr>

</TABLE>

<br><br>
<h3 class="subtitle">4) Format of time output:</h3>
<SELECT name="tz">
	<option value="GMT">GMT (UTC) timestamps
	<option value="local">Central Standard/Daylight Time
</SELECT>

<br><br>
<h3 class="subtitle">5) Data Format:</h3>
<SELECT name="format">
	<option value="tdf">Tab Delimited
	<option value="comma">Comma Delimited
</SELECT>

<p><h3>6) Include Lat/Lons?:</h3>
<select name="latlon">
  <option value="no">No
  <option value="yes">Yes
</select>

<br><br>
<h3 class="subtitle">7) Finally, get Data:</h3>

  <input type="submit" value="Get Data">
  <input type="reset">
</TD></TR></TABLE>
</form>



<?php include("../../include/footer.php"); ?>

