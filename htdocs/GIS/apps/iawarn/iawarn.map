#
# Start of map file
#
NAME stations
STATUS ON
SIZE 450 450
#SYMBOLSET symbols/symbol.sym
FONTSET "/mesonet/www/html/GIS/data/fonts/fonts.list"
EXTENT -2223813 -1746393 2207341 1701506
UNITS METERS
SHAPEPATH "/mesonet/www/html/GIS/data/"
SYMBOLSET "/mesonet/data/gis/symbols/stations.sym"
IMAGECOLOR 255 255 255
IMAGETYPE PNG
TRANSPARENT off
INTERLACE off

#
# Projection definition, consult the PROJ.4 documentation for parameter discussion
#
PROJECTION
   "init=epsg:26915"
END

#
# Start of web interface definition
#
WEB
  HEADER q_header.html
  TEMPLATE warning0.html
  FOOTER q_footer.html
  MINSCALE 90000
  MAXSCALE 40000000
  IMAGEPATH "/home/httpd/html/tmp/"
  IMAGEURL "/tmp/"
  LOG "/home/httpd/html/tmp/warning0.log"
END



SCALEBAR
  IMAGECOLOR 255 255 255
  LABEL
    COLOR 0 0 0
    SIZE tiny
  END
  STYLE 1
  SIZE 50 2
  COLOR 0 0 0
  UNITS MILES
  INTERVALS 1
  TRANSPARENT TRUE
  STATUS TRUE
END

LAYER
  NAME radar
  DATA /mesonet/data/gis/images/unproj/DMX/DMX_N0R_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME DMX
  DATA /mesonet/data/gis/images/unproj/DMX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME DVN
  DATA /mesonet/data/gis/images/unproj/DVN/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END


LAYER
  NAME FSD
  DATA /mesonet/data/gis/images/unproj/FSD/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME EAX
  DATA /mesonet/data/gis/images/unproj/EAX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME MPX
  DATA /mesonet/data/gis/images/unproj/MPX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END


LAYER
  NAME ARX
  DATA /mesonet/data/gis/images/unproj/ARX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME OAX
  DATA /mesonet/data/gis/images/unproj/OAX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME ABR
  DATA /mesonet/data/gis/images/unproj/ABR/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END

LAYER
  NAME UDX
  DATA /mesonet/data/gis/images/unproj/UDX/n0r_0.tif
  TYPE RASTER
  STATUS ON
  PROJECTION
   "proj=latlong"
  END
  OFFSITE 0 0 0
END




LAYER
  NAME states
  STATUS DEFAULT
  TYPE POLYGON
  DATA shape/states.shp
  PROJECTION
   "proj=latlong"
  END
  CLASS
    OUTLINECOLOR 0 0 0
  END
END

LAYER
  NAME iowa_counties
  STATUS ON
  TYPE POLYGON
  DATA /mesonet/data/gis/shape/unproj/iem/cwa_counties.shp
  PROJECTION
   "proj=latlong"
  END
  CLASSITEM 'FIPS'
  CLASS
    EXPRESSION /19043/
    OUTLINECOLOR 0 0 0
    COLOR 0 0 0
    BACKGROUNDCOLOR 0 0 0
    SYMBOL 1
    SIZE 3
  END
  CLASS
    OUTLINECOLOR 255 0 0
    COLOR -1 -1 -1
  END
END

LAYER
  NAME more_counties
  STATUS ON
  TYPE POLYGON
  DATA /mesonet/data/gis/shape/unproj/iem/sd_cwa_counties.shp
  PROJECTION
   "proj=latlong"
  END
  CLASS
    OUTLINECOLOR 255 0 0
    COLOR -1 -1 -1
  END
END



LAYER
  NAME cwas
  STATUS ON
  TYPE POLYGON
  DATA /mesonet/data/gis/shape/unproj/us/cwas.shp
  PROJECTION
   "proj=latlong"
  END
  LABELITEM "WFO"
  CLASSITEM "WFO"
  CLASS
    EXPRESSION /DMX|ABR/
    OUTLINECOLOR -1 -1 -1
    COLOR 200 200 200
    LABEL
      COLOR 0 0 255
      BACKGROUNDCOLOR -1 -1 -1
      OUTLINECOLOR -1 -1 -1
      TYPE TRUETYPE
      SIZE 12
      FONT 'arial'
      POSITION CC
      PARTIALS FALSE
    END
  END
  CLASS
    EXPRESSION /DVN|FSD/
    OUTLINECOLOR -1 -1 -1
    COLOR 240 248 255
    LABEL
      COLOR 0 0 255
      BACKGROUNDCOLOR -1 -1 -1
      OUTLINECOLOR -1 -1 -1
      TYPE TRUETYPE
      SIZE 12
      FONT 'arial'
      POSITION CC
      PARTIALS FALSE
    END
  END
  CLASS
    EXPRESSION /MPX|EAX|UNR/
    OUTLINECOLOR -1 -1 -1
    COLOR 250 235 215
    LABEL
      COLOR 0 0 255
      BACKGROUNDCOLOR -1 -1 -1
      OUTLINECOLOR -1 -1 -1
      TYPE TRUETYPE
      SIZE 12
      FONT 'arial'
      POSITION CC
      PARTIALS FALSE
    END
  END
  CLASS
    EXPRESSION /OAX|ARX/
    OUTLINECOLOR -1 -1 -1
    COLOR 255 182 193
    LABEL
      COLOR 0 0 255
      BACKGROUNDCOLOR -1 -1 -1
      OUTLINECOLOR -1 -1 -1
      TYPE TRUETYPE
      SIZE 12
      FONT 'arial'
      POSITION CC
      PARTIALS FALSE
    END
  END
END

LAYER
  CONNECTIONTYPE postgis
  NAME warnings0_c
  CONNECTION "user=akrherz dbname=postgis host=10.10.10.40"
  DATA "geom from warnings"
  STATUS ON
  TYPE LINE
  TEMPLATE q_template.html
  FILTER "expire > CURRENT_TIMESTAMP and gtype = 'C'"
  PROJECTION
   "init=epsg:4326"
  END
  CLASSITEM "type"
  CLASS
    EXPRESSION 'TOR'
    COLOR 255 0 0
    SYMBOL 1
    SIZE 2
  END
  CLASS
    EXPRESSION 'SVR'
    COLOR 255 255 0 
    SYMBOL 1
    SIZE 2
  END
  CLASS
    EXPRESSION 'FFW'
    COLOR 0 255 0
    SYMBOL 1
    SIZE 2
  END
END



LAYER
  CONNECTIONTYPE postgis
  NAME warnings0_p
  CONNECTION "user=akrherz dbname=postgis host=10.10.10.40"
  DATA "geom from warnings"
  STATUS ON
  TYPE LINE
  TEMPLATE q_template.html
  FILTER "expire > CURRENT_TIMESTAMP and gtype = 'P'"
  PROJECTION
   "init=epsg:4326"
  END
  CLASS
    COLOR 250 250 250 
    SYMBOL 1
    SIZE 1
  END
END

END
