MAP
#
# Start of map file
#
NAME adjust
STATUS ON
SIZE 640 480
#SYMBOLSET symbols/symbol.sym
FONTSET "/mesonet/data/gis/fonts/fonts.list"
# Iowa
EXTENT 230000 4450000 710000 4900000
# Central Iowa
#EXTENT 430000 4550000 510000 4650000
# Polk County
#EXTENT 430000 4590000 475000 4640000
# Cedar River
# EXTENT 480000 4577000 660000 4700000
# NE Iowa
EXTENT 538000 4700000 711000 4830000
UNITS METERS
SHAPEPATH "/mesonet/data/gis/"
SYMBOLSET "/mesonet/data/gis/symbols/stations.sym"
IMAGECOLOR -1 -1 -1
IMAGETYPE PNG
TRANSPARENT off
INTERLACE off

#
# Projection definition, consult the PROJ.4 documentation for parameter discussion
#
PROJECTION
    "init=epsg:26915"
END

#
# Start of web interface definition
#
WEB
  HEADER q_header.html
  TEMPLATE stations.html
  FOOTER q_footer.html
  MINSCALE 90000
  MAXSCALE 46500000
  IMAGEPATH "/var/www/htdocs/tmp/"
  IMAGEURL "/tmp/"
  LOG "/var/www/htdocs/tmp/stations.log"
END



SCALEBAR
  IMAGECOLOR 255 255 255
  LABEL
    COLOR 0 0 0
    SIZE tiny
  END
  STYLE 1
  SIZE 50 2
  COLOR 0 0 0
  UNITS MILES
  INTERVALS 1
  TRANSPARENT TRUE
  STATUS TRUE
END

#
#

#
# Start of layer definitions
#

LAYER
  NAME counties
  STATUS DEFAULT
  TYPE POLYGON
  DATA /mesonet/data/gis/static/shape/4326/iowa/iacounties.shp
  PROJECTION
   "proj=latlong"
  END
  CLASS
    OUTLINECOLOR 255 0 0
  END
END


LAYER
  NAME rivers
  STATUS DEFAULT
  TYPE LINE
  DATA /mesonet/data/gis/static/shape/26915/iowa/iarivers.shp
  PROJECTION 
   "init=epsg:26915"
  END
  CLASS 
#   EXPRESSION ([LENGTH] > 10 )
   COLOR 0 0 100
  END
END


LAYER
  CONNECTIONTYPE postgis
  NAME dcp
  CONNECTION "user=akrherz dbname=mesosite host=iemdb"
  DATA "geom from stations"
  FILTER "network ~* 'DCP'"
#  FILTER "id ~* 'ICLI4'"
  STATUS DEFAULT
  TYPE POINT
#  MINSCALE 600000
  PROJECTION
    "proj=latlong"
  END
  CLASS
#    TEMPLATE q_template.html
    COLOR 100 100 100
    SYMBOL 9
    SIZE 5
    TEXT ([ id ])
    LABEL
      COLOR 0 0 255
      BACKGROUNDCOLOR 255 255 255
      BACKGROUNDSHADOWCOLOR 0 0 0
      TYPE BITMAP
      SIZE MEDIUM
      FORCE true
      POSITION AUTO
      BUFFER 1
      OFFSET 2 2
    END
  END
END

LAYER
  NAME credits
  TYPE ANNOTATION
  STATUS default
  TRANSFORM FALSE
  LABELCACHE OFF
  CLASS
    NAME 'credits'
    LABEL
      COLOR 0 0 255
#      SHADOWSIZE 1 1
#      SHADOWCOLOR 0 0 0
#      BACKGROUNDSHADOWCOLOR 0 0 0
#      BACKGROUNDSHADOWSIZE 1 1
      TYPE TRUETYPE
      SIZE 30
      FONT 'verabd'
      POSITION CR
      FORCE TRUE
      PARTIALS TRUE
      ANTIALIAS TRUE
    END
  END
END

END
